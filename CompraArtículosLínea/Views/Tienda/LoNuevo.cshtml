@model IEnumerable<CompraArtículosLínea.Models.Producto>
@{
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<h1 class="mt-4">Lo Nuevo</h1>
<p>Explora los productos más recientes y destacados en nuestra tienda.</p>

<div class="container mt-4">
    <div class="row">
        @foreach (var producto in Model)
        {
            <div class="col-md-3 mb-4">
                <div class="card h-100">
                    <!-- Imagen del producto -->
                    <img src="~/img/@($"{producto.ProductoId}.jpg")"
                         class="card-img-top"
                         alt="@producto.Nombre"
                         onerror="this.onerror=null; this.src='~/img/default.png';" />
                    <!-- Información del producto -->
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@producto.Nombre</h5>
                        <p class="card-text">@producto.Descripcion</p>
                        <p class="card-text text-success fw-bold">₡@producto.Precio.ToString("N2")</p>
                        <form asp-action="AgregarAlCarrito" asp-controller="Tienda" method="post" class="mt-auto">
                            <input type="hidden" name="productoId" value="@producto.ProductoId" />
                            <input type="hidden" name="cantidad" value="1" />
                            <button type="submit" class="btn btn-primary w-100">Agregar al Carrito</button>
                        </form>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
